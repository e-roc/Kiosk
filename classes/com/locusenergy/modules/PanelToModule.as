package com.locusenergy.modules {	import com.locusenergy.panels.*;	import com.locusenergy.charts.*;	import com.locusenergy.Connector;	import com.locusenergy.charts.LineChartGenerator;	import flash.events.Event;	import flash.utils.getDefinitionByName;		public class PanelToModule extends KioskModule {				// Constants:		// Public Properties:		public var panel;		// Private Properties:		private var panelClass;		// Initialization:		public function PanelToModule(panelClass) 		{			this.panelClass = panelClass;		}		override public function getModuleData(connector)		{			this.connector = connector;			loadData();		}		override protected function loadData()		{			var cRef:Class = getDefinitionByName(panelClass) as Class;			panel = new cRef(connector);			panel.addEventListener("ChartAddedEvent", resizeChart, false, 0, 1);			panel.addEventListener("SideMenuLoadedEvent", resizeMenu, false, 0, 1);			resizeMenu(new Event("resizeMenu"));			panel.scaleX = 1;			panel.scaleY = 1;		}		function resizeChart(e)		{			dispatchEvent(new Event("DataLoaded"));			//trace("Resize Chart");			if (panel.chart is LineChartGenerator)			{				panel.chart.resize(360, 180);			}			else			{				panel.chart.resize(390, 180);			}			panel.chart.totalText.scaleX = 0.52;			panel.chart.totalText.scaleY = 0.52;			panel.chart.totalText.x = 485 - panel.chart.totalText.width;			panel.chart.totalText.y = 223;			panel.chart.drawGrid();			if (panel.chart.shadowBox != null)				panel.chart.shadowBox.alpha = 0;			panel.chart.x = 70;			panel.y = 75;			if (panel.chart is LineChartGenerator)				{					panel.y = 25;				panel.sideMenu.y = 55;			}			panel.x = 0;			addChild(panel);		}		function resizeMenu(e)		{			panel.sideMenu.scaleX = 0.52;			panel.sideMenu.scaleY = 0.52;			panel.sideMenu.x = 480;			if (panel.chart is LineChartGenerator)	panel.sideMenu.y = 55;					}		override public function cleanUp()		{			//trace("Cleaning Up: PanelToModule");			if (panel != null)			{				panel.removeEventListener("ChartAddedEvent", resizeChart);				panel.removeEventListener("SideMenuLoadedEvent", resizeMenu);				panel.cleanUp();			}			connector.cleanUp();		}	}	}